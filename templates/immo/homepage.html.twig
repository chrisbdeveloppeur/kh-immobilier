{% extends 'base.html.twig' %}

{% block title %}Immobilier{% endblock %}

{% block title_main %}Votre gestion immobilière{% endblock %}

{% block body %}



            <div class="column is-flex is-align-items-center is-flex-direction-column px-0 py-0">

                <div class="tags has-addons mb-0">
                    <span class="tag has-text-weight-bold">Nombre total de biens immobiliers</span>
                    <span class="tag is-dark">{{ biens_immos.getTotalItemCount }}</span>
                </div>

                <div class="tabs mb-2">
                    <span class="tag borderless-radius">{{ knp_pagination_sortable(biens_immos, 'A-Z', 'building') }}</span>
                    <span class="tag borderless-radius">{{ knp_pagination_sortable(biens_immos, 'Loyer HC', 'loyer_hc') }}</span>
                    <span class="tag borderless-radius">{{ knp_pagination_sortable(biens_immos, 'Charges', 'charges') }}</span>
                    <span class="tag borderless-radius">{{ knp_pagination_sortable(biens_immos, 'Loyer TTC', 'loyer_ttc') }}</span>
                </div>
                {#<span class="">{{ knp_pagination_filter(biens_immos, ['building']) }}</span>#}

                {{ knp_pagination_render(biens_immos) }}

                    {% set total_loyer_ttc = 0 %}
                    {% set total_loyer_hc = 0 %}
                    {% set total_charges = 0 %}
                    {% for bien_immo in biens_immos %}
                        {% set total_loyer_ttc =  total_loyer_ttc + (bien_immo.loyerHc + bien_immo.charges) %}
                        {% set total_loyer_hc =  total_loyer_hc + bien_immo.loyerHc %}
                        {% set total_charges =  total_charges + bien_immo.charges %}
                            <div class="column is-two-thirds is-full-mobile is-two-fifths-widescreen">
                                {{ include('immo/biens_card.html.twig') }}
                            </div>
                    {% else %}

                        <span>Vous n'avez aucun Biens immobiliers enreggistrés</span>

                    {% endfor %}

                <div class="mb-6">
                    {{ knp_pagination_render(biens_immos) }}
                </div>

            </div>

{% endblock %}
