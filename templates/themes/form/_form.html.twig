<div class="column is-flex is-justify-content-center">
    {{ form_start(form, {'attr': {'class': 'column is-one-third'} }) }}
{#        {{ form_widget(form, {'attr': {'class': 'field has-text-centered'} } ) }}#}
    {% for child in form %}

        {#
        {% if child.vars.block_prefixes[2] == 'entity' %}
            {{ dump(child.vars.choices[24].data.locataires) }}
        {% endif %}
        #}

        <div class="field">
            {% if 'token' not in form_label(child) %}
                <div class="label is-size-7">
                    {{ form_label(child) }}
                </div>
            {% endif %}


            {% if child.vars.block_prefixes[1] == 'choice' %}
                <div class="select is-small is-fullwidth">

                    {{ form_widget(child, {'attr': {'class': 'has-text-centered'} }) }}

                    {#
                    {% if child.vars.name == 'logement' %}
                        <select name="{{ child.vars.full_name }}" id="{{ child.vars.id }}">
                            <option value="null">Sans logement</option>
                            {% for choice in child.vars.choices %}
                                {% if choice.data.free == 'true' %}
                                    <option value="{{ choice.value }}" {% if choice.data.__isInitialized__ is defined %}selected="selected"{% endif %}>{{ choice.label }} (Libre)</option>
                                {% else %}
                                    <option value="{{ choice.value }}" {% if choice.data.__isInitialized__ is defined %}selected="selected"{% endif %}>{{ choice.label }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    {% else %}
                        {{ form_widget(child, {'attr': {'class': 'has-text-centered'} }) }}
                    {% endif %}
                    #}

                </div>
            {% elseif child.vars.name in ['loyer_hc','charges','solde'] %}
                <div class="field has-addons mb-0">
                    <p class="control is-expanded">
                        {{ form_widget(child, {'attr': {'class': 'input has-text-centered is-small'} }) }}
                    </p>
                    <p class="control">
                        <a class="button is-static is-small">
                            â‚¬
                        </a>
                    </p>
                </div>
            {% else %}
                {{ form_widget(child) }}
            {% endif %}


            {% if form_help(child) %}
                <span class="help is-info mt-0">
                    <span class="icon-text" style="flex-wrap: nowrap">
                        <span class="icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </span>
                        <span>{{ form_help(child) }}</span>
                    </span>
                </span>
            {% endif %}

            {% if form_errors(child) %}
                <span class="tag is-danger">
                    {{ form_errors(child) }}
                </span>
            {% endif %}

        </div>
    {% endfor %}
        <div class="field has-text-centered">
            <button class="button is-success is-small">{{ button_label|default('Valider') }}</button>
        </div>
    {{ form_end(form) }}
</div>
